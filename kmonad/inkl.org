#+TITLE: Config file for KMonad
#+AUTHOR: Rafael Ito
#+PROPERTY: header-args :tangle inkl.kbd
#+DESCRIPTION: config file for KMonad
#+STARTUP: showeverything
#+auto_tangle: t


* Table of Contents :toc:
- [[#initial-config][Initial config]]
  - [[#input][Input]]
  - [[#output][Output]]
  - [[#other-settings][Other settings]]
  - [[#eos][EoS]]
- [[#layers][Layers]]
  - [[#template][template]]
  - [[#base-us][base (us)]]
  - [[#qwerty][qwerty]]
  - [[#number][number]]
  - [[#symbol][symbol]]
  - [[#navigation][navigation]]
  - [[#outputs][outputs]]

* Initial config
#+begin_src lisp
(defcfg
#+end_src
** Input
#+begin_src lisp
  input (device-file "/dev/input/by-path/platform-i8042-serio-0-event-kbd")
#+end_src
** Output
#+begin_src lisp
  output (uinput-sink "KMonad INKL output")
#+end_src
** Other settings
- fallthrough: if false, ignore unhandled events
- allow-cmd: enable command-execution
#+begin_src lisp
  fallthrough true
  allow-cmd true
#+end_src
** EoS
#+begin_src lisp
)
#+end_src
* Layers
** template
*** with keys
#+begin_src lisp :tangle no
(deflayer template
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12
  '    1    2    3    4    5    6    7    8    9    0    -    =
  tab  q    w    e    r    t    y    u    i    o    p    '    [
  caps a    s    d    f    g    h    j    k    l    รง    ~    ]
  lsft \\   z    x    c    v    b    n    m    ,    .    ;    rsft
  lctl lmet lalt           spc            ralt /    left up   rght
                                                         down
)
#+end_src
*** empty
#+begin_src lisp :tangle no
(deflayer empty
  _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _              _              _    _    _    _    _
                                                         _
)
#+end_src
** base (us)
#+begin_src lisp
(defsrc
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12
  grv  1    2    3    4    5    6    7    8    9    0    -    =
  tab  q    w    e    r    t    y    u    i    o    p    [    ]
  caps a    s    d    f    g    h    j    k    l    ;    '    \
  lsft lsgt z    x    c    v    b    n    m    ,    .    /    rsft
  lctl lmet lalt           spc            ralt ro   left up   rght
                                                         down
)
#+end_src
** qwerty
#+begin_src lisp
(deflayer qwerty
  caps f1   f2   f3   f4   f5        f6   f7   f8   f9   f10  f11  f12
  '    1    2    3    4    5         6    7    8    9    0    -    =
  tab  q    w    e    r    t         y    u    i    o    p    '    [
  esc  @a2m @s2a @d2c @f2s @g2a      @h2a @j2s @k2c @l2m @;2m ~    ]
  lsft z    x    c    v    b    XX   n    m    ,    .    /    rsft
  lctl lmet @nav               @s2m       @num bspc left up   rght
                                                         down
)
#+end_src
*** alias
#+begin_src lisp
(defalias
  ;; left hand
  a2m (tap-hold-next-release 200 a   lmet) ;; a to meta_L
  s2a (tap-hold-next-release 200 s   lalt) ;; s to alt_L
  d2c (tap-hold-next-release 200 d   lctl) ;; d to ctrl_L
  f2s (tap-hold-next-release 200 f   lsft) ;; f to shift_L
  g2a (tap-hold-next-release 200 g   ralt) ;; g to alt_R

  ;; right hand
  h2a (tap-hold-next-release 200 h   ralt) ;; h to alt_R
  j2s (tap-hold-next-release 200 j   lsft) ;; j to shift_L
  k2c (tap-hold-next-release 200 k   lctl) ;; k to ctrl_R
  l2m (tap-hold-next-release 200 l   S-lmet) ;; l to shift_L-meta_L
  ;2m (tap-hold-next-release 200 ;   lmet) ;; semicolon to meta_L

  ;; other
  s2m (tap-hold-next-release 200 spc lmet) ;; space to meta_L

  ;; layers
  nav (tap-hold-next-release 200 esc (layer-toggle navigation)) ;;
  num (tap-hold-next-release 200 ret (layer-toggle number)) ;;
)
#+end_src
** number
#+begin_src lisp
(deflayer number
  _    _    _    _    _    _         _    _    _    _    _    _    _
  _    _    _    _    _    _         _    _    _    _    _    _    _
  _    [    4    5    6    ]         _    _    _    _    _    _    _
  _    :    1    2    3    -         _    _    _    _    _    _    _
  _    ~    7    8    9    +    _    _    _    _    _    _         _
  _    _    _                   0              _    _    _    _    _
                                                         _
)
#+end_src
** symbol
#+begin_src lisp
(deflayer symbol
  _    _    _    _    _    _         _    _    _    _    _    _    _
  _    _    _    _    _    _         _    _    _    _    _    _    _
  _    {    $    %    ^    }         _    _    _    _    _    _    _
  _    ;    !    @    #    \_        _    _    _    _    _    _    _
  _    grv  &    *    \(   =    _    _    _    _    _    _         _
  _    _    _                   \)             _    _    _    _    _
                                                         _
)
#+end_src
** navigation
#+begin_src lisp
(deflayer navigation
  _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    home end  XX   _    _
  _    _    _    _    _    _    caps left down up   rght _    _
  _    _    _    _    _    _    _    _    pgdn pgup XX        _
  _    _    _              _              _    _    _    _    _
** outputs
*** output 1
#+begin_src lisp
(deflayer out1
  _    _    _    _    _    _         _    _    _    _    _    _    _
  _    _    _    _    _    _         _    _    _    _    _    _    _
  _    XX   @w4  @w5  @w6  XX        XX   XX   XX   XX   XX   _    _
  _    XX   @w1  @w2  @w3  XX        XX   XX   XX   XX   XX   _    _
  _    XX   @w7  @w8  @w9  XX   _    XX   XX   XX   XX   XX        _
  _    _    _                   @w0            _    _    _    _    _
                                                         _
)
#+end_src
*** output 2
#+begin_src lisp
(deflayer out2
  _    _    _    _    _    _         _    _    _    _    _    _    _
  _    _    _    _    _    _         _    _    _    _    _    _    _
  _    XX   @w14 @w15 @w16 XX        XX   XX   XX   XX   XX   _    _
  _    XX   @w11 @w12 @w13 XX        XX   XX   XX   XX   XX   _    _
  _    XX   @w17 @w18 @w19 XX   _    XX   XX   XX   XX   XX        _
  _    _    _                   @w10           _    _    _    _    _
                                                         _
)
#+end_src
*** output 3
#+begin_src lisp
(deflayer out3
  _    _    _    _    _    _         _    _    _    _    _    _    _
  _    _    _    _    _    _         _    _    _    _    _    _    _
  _    XX   @w24 @w25 @w26 XX        XX   XX   XX   XX   XX   _    _
  _    XX   @w21 @w22 @w23 XX        XX   XX   XX   XX   XX   _    _
  _    XX   @w27 @w28 @w29 XX   _    XX   XX   XX   XX   XX        _
  _    _    _                   @w20           _    _    _    _    _
                                                         _
)
#+end_src
*** alias
#+begin_src lisp
(defalias
  ;; output 1
  w0  M-0  ;; focus workspace 0
  w1  M-1  ;; focus workspace 1
  w2  M-2  ;; focus workspace 2
  w3  M-3  ;; focus workspace 3
  w4  M-4  ;; focus workspace 4
  w5  M-5  ;; focus workspace 5
  w6  M-6  ;; focus workspace 6
  w7  M-7  ;; focus workspace 7
  w8  M-8  ;; focus workspace 8
  w9  M-9  ;; focus workspace 9

  ;; output 2
  w10  S-M-0  ;; focus workspace 10
  w11  S-M-1  ;; focus workspace 11
  w12  S-M-2  ;; focus workspace 12
  w13  S-M-3  ;; focus workspace 13
  w14  S-M-4  ;; focus workspace 14
  w15  S-M-5  ;; focus workspace 15
  w16  S-M-6  ;; focus workspace 16
  w17  S-M-7  ;; focus workspace 17
  w18  S-M-8  ;; focus workspace 18
  w19  S-M-9  ;; focus workspace 19

  ;; output 3
  w20  RM-0  ;; focus workspace 20
  w21  RM-1  ;; focus workspace 21
  w22  RM-2  ;; focus workspace 22
  w23  RM-3  ;; focus workspace 23
  w24  RM-4  ;; focus workspace 24
  w25  RM-5  ;; focus workspace 25
  w26  RM-6  ;; focus workspace 26
  w27  RM-7  ;; focus workspace 27
  w28  RM-8  ;; focus workspace 28
  w29  RM-9  ;; focus workspace 29
)
#+end_src
                                                         _
)
#+end_src

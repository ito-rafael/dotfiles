- name: init | ansible | ensure ansible latest version
  package:
    name: ansible
    state: latest

- name: init | ansible | create group
  group:
    name: ansible
    state: present

- name: init | ansible | create user
  user:
    name: ansible
    group: ansible
    groups: wheel
    state: present
    comment: "Ansible"
    system: yes
    shell: /usr/bin/nologin

- name: init | ansible | add sudoers file
  copy:
    src: files/users/sudoers_ansible
    dest: /etc/sudoers.d/ansible
    owner: root
    group: root
    mode: 0440

- name: init | openssh | [Arch] installation
  package:
    name: openssh
    state: latest
  when: ansible_distribution == "Archlinux"

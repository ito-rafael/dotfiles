#=================================================
# OpenSSH
#=================================================

# description:
TLDR: secure remote access
ArchWiki: "OpenSSH (OpenBSD Secure Shell) is a set of computer programs providing encrypted communication sessions over a computer network using the Secure Shell (SSH) protocol."
#-------------------------------------------------
# installation
sudo pacman -S openssh
#-------------------
# some distros require installation of client and server separately. For example:
sudo apt install openssh-client
sudo apt install openssh-server

#=======================================
# Server config
#=======================================
vim /etc/sshd_config
#---------------------------------------
# change port
#Port 22
Port 2222
#---------------------------------------
# disable root login
PermitRootLogin no
#---------------------------------------
# disable password authentication (allow login with public key only)
PasswordAuthentication no
#---------------------------------------
# allow only certain users to login
AllowUsers username
#---------------------------------------
# allow only certain group of users to login
AllowGroups sshuser
#-------------------
# create group
sudo groupadd sshuser
# add members to that group
sudo usermod -aG sshusers username
#-------------------

#=======================================
# Client config
#=======================================
# connection
ssh -p 22 username@ServerIP
#---------------------------------------
# copy public key to the server
ssh-copy-id -i ~/.ssh/id_rsa.pub ServerIP
# this is the same as copying ~/.ssh/id_rsa.pub of client in ~/.ssh/authorized_keys
#---------------------------------------
# connection
ssh -p 22 username@ServerIP
